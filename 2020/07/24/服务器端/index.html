<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="服务器端面试官（9）：可能是全网最全的http面试答案 - 掘金   状态码 12345678910111213142xx 成功处理	200 ok 3xx 重定向	301 永久移动	302 临时移动	304 未修改4xx 客户端出错	400 不理解请求的语法	401 authorized 未授权	403 已授权但禁止	404 不存在5xx 服务器内部错误	500 服务器遇到了错误	503 服务器目">
<meta property="og:type" content="article">
<meta property="og:title" content="服务器端">
<meta property="og:url" content="http://yoursite.com/2020/07/24/服务器端/index.html">
<meta property="og:site_name" content="kowukowuko">
<meta property="og:description" content="服务器端面试官（9）：可能是全网最全的http面试答案 - 掘金   状态码 12345678910111213142xx 成功处理	200 ok 3xx 重定向	301 永久移动	302 临时移动	304 未修改4xx 客户端出错	400 不理解请求的语法	401 authorized 未授权	403 已授权但禁止	404 不存在5xx 服务器内部错误	500 服务器遇到了错误	503 服务器目">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/2020/07/24/服务器端/bVDM45.png">
<meta property="og:updated_time" content="2020-07-23T17:37:10.799Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="服务器端">
<meta name="twitter:description" content="服务器端面试官（9）：可能是全网最全的http面试答案 - 掘金   状态码 12345678910111213142xx 成功处理	200 ok 3xx 重定向	301 永久移动	302 临时移动	304 未修改4xx 客户端出错	400 不理解请求的语法	401 authorized 未授权	403 已授权但禁止	404 不存在5xx 服务器内部错误	500 服务器遇到了错误	503 服务器目">
<meta name="twitter:image" content="http://yoursite.com/2020/07/24/服务器端/bVDM45.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'T8XBOJJNFX',
      apiKey: '59ff9e3b216c019eeb2f6c073cef5a49',
      indexName: 'wulzt',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/07/24/服务器端/">





  <title>服务器端 | kowukowuko</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">kowukowuko</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">move now</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/24/服务器端/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="LZT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kowukowuko">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">服务器端</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-07-24T00:05:42+08:00">
                2020-07-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="服务器端"><a href="#服务器端" class="headerlink" title="服务器端"></a>服务器端</h1><p><a href="https://juejin.im/post/5d032b77e51d45777a126183" target="_blank" rel="noopener">面试官（9）：可能是全网最全的http面试答案 - 掘金</a></p>
<ul>
<li><input checked disabled type="checkbox"> <p>状态码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2xx 成功处理</span><br><span class="line">	200 ok </span><br><span class="line">3xx 重定向</span><br><span class="line">	301 永久移动</span><br><span class="line">	302 临时移动</span><br><span class="line">	304 未修改</span><br><span class="line">4xx 客户端出错</span><br><span class="line">	400 不理解请求的语法</span><br><span class="line">	401 authorized 未授权</span><br><span class="line">	403 已授权但禁止</span><br><span class="line">	404 不存在</span><br><span class="line">5xx 服务器内部错误</span><br><span class="line">	500 服务器遇到了错误</span><br><span class="line">	503 服务器目前无法使用（超载或停机维护）</span><br></pre></td></tr></table></figure>
</li>
<li><input checked disabled type="checkbox"> <p>304缓存原理</p>
<blockquote>
<p>第一次请求资源的时候，服务器生成一串hash值Etag返回，客户端下次请求用                                                                                                                                                                                                                                                                                                         If-None-Match把Etag的值带上，服务器验证这个资源有没有被修改，有就返回新的内容，没有就返回304，浏览器就会去缓存里找这个文件  </p>
</blockquote>
</li>
</ul>
<p>last-modified是最后修改的时间，下次带上If-Modified-Since，服务器验证</p>
<p>Etag和Last-Modified区别：Etag是强验证，期待资源字节级别的一致；Last-Modified 弱验证，只要资源主要内容相同</p>
<ul>
<li><input checked disabled type="checkbox"> get/post区别</li>
</ul>
<ul>
<li><ol>
<li>get数据是存放在url之后，post是把提交的数据放在http包的body里</li>
</ol>
</li>
<li><ol start="2">
<li>get提交的数据大小有限制（浏览器限制），post没有</li>
</ol>
</li>
<li><ol start="3">
<li>get需要request.queryString来获取变量的值，post通过request.form来获取</li>
</ol>
</li>
<li><ol start="4">
<li>get不安全</li>
</ol>
</li>
<li>post通常会导致服务器状态改变或有副作用</li>
</ul>
<ul>
<li><input checked disabled type="checkbox"> http 和https </li>
</ul>
<ol>
<li><p>http协议的理解</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">超文本传输协议，是用于从万维网服务器超文本传输到本地资源的传输协议</span><br><span class="line">基于TCP/IP通信协议来传递数据</span><br><span class="line">http请求信息 request</span><br><span class="line">	请求行，说明请求类型</span><br><span class="line">	请求头部，说明服务器要使用的附加信息</span><br><span class="line">	空行</span><br><span class="line">	请求数据，也叫主体，可以添加任意的其他数据</span><br><span class="line">http相应信息 response</span><br><span class="line">	状态行，由http协议版本号，状态码，状态信息三部分组成</span><br><span class="line">	消息报头，用来说明客户端要使用的一些附加信息</span><br><span class="line">	空行</span><br><span class="line">	响应正文，服务器返回给客户端的文本信息</span><br></pre></td></tr></table></figure>
</li>
<li><p>http和https的区别<br>http 超文本传输协议，是一个客户端与服务器端请求和应答的标准<br>https 是以安全为目标的http通道，简单来说是http的安全版本，通过ssl加密</p>
</li>
<li><p>http1.0、1.1、2.0区别</p>
</li>
</ol>
<p><strong>1.0和1.1</strong>区别</p>
<ul>
<li>长连接：http1.0 需要用keep-live参数来告知服务器建立一个长连接，而http1.1默认支持长连接</li>
<li>节约宽带：http1.1支持只发送一个header信息</li>
<li>host域（设置虚拟站点，也就是说，webserver上的多个虚拟站点可以共享同一个ip端口）：http1.0没有host域</li>
</ul>
<p><strong>2.0</strong>新特性</p>
<ul>
<li>二进制文本传输数据，而非文本格式，二进制在协议的解析和扩展更好</li>
<li>头信息压缩：1. gzip或compress先压缩  2. c和s共同维护一张头信息表，所有的字段存在表中，生成索引号，以后不发送重复内容，只发索引号</li>
<li>多路复用：一个连接可以并发处理多个请求</li>
<li>服务器推送：我们对支持http2.0的webserver请求数据的时候，服务器会顺便把一些客户端需要的资源一起推送到客户端，免得客户端再次创建连接发送到服务器获取。这种方式非常适合加载静态资源</li>
</ul>
<ul>
<li><input disabled type="checkbox"> <p>CDN（内容分发网络）<br>原理：广泛采用各种缓存服务器，将这些缓存服务器分布到用户访问相对的地区或者网络中。当用户访问网络时利用全局负载技术将用户的访问指向距离最近的缓存服务器，由缓存服务器直接响应用户的请求</p>
</li>
<li><input disabled type="checkbox"> <p>前端呈现流程</p>
</li>
</ul>
<ol>
<li><p>从输入url到获取页面的完整过程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 查询DNS（域名解析），获取域名对应的IP地址  查询浏览器缓存</span><br><span class="line">2. 浏览器和服务器建立TCP连接（三次握手）</span><br><span class="line">3. 浏览器向服务器发送http请求（请求和传输数据）</span><br><span class="line">4. 服务器接收到这个请求后，根据路径参数，经过后端的一些处理生成html代码返回给浏览器</span><br><span class="line">5. 浏览器拿到完整的html页面代码进行解析和渲染，如果遇到外部的css或者js、图片，一样的步骤</span><br><span class="line">6. 浏览器根据拿到的资源对页面进行渲染，把一个完整的页面呈现出来</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP三次握手</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">第一次握手： 客户端给服务端发送一个SYN报文</span><br><span class="line">第二次握手： 服务器收到SYN报文之后会应答一个SYN+ACK报文</span><br><span class="line">第三次握手： 客户端收到SYN+ACK报文之后会回应一个ACK报文</span><br><span class="line">服务端收到ACK报文后三次握手建立完成</span><br><span class="line">作用是为了确认双方的接收与发送能力是否正常</span><br></pre></td></tr></table></figure>

</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">详细版本</span><br><span class="line">第一次握手： 客户端会给服务端发送一个SYN报文，并指明客户端的初始化序列号ISN(c)。此时客户端的状态是SYN_Send （SYN=1,seq=x）</span><br><span class="line">第二次握手： 服务端收到了客户端的SYN报文后，会把自己的SYN报文作为应答，并且也是指定了自己的初始化序列号ISN(s)，同时会把客户端的ISN+1作为ACK的值，表示自己已经收到了客户端的SYN，此时服务器处于SYN_REVD的状态  (SYN=1,ACK=1,seq=y,ack=x+1)</span><br><span class="line">第三次握手： 客户端收到SYN报文后会发送一个ACK报文，当然，也是一样把服务端的ISN+1作为ACK的值，表示收到了服务端的SYN报文，此时客户端处于established状态。  (ACK=1,ack=y+1)</span><br><span class="line">服务器收到ACK报文后也处于established状态，此时双方已建立起了连接</span><br></pre></td></tr></table></figure>

<p>不能两次的原因：只有两次的话，服务器发送了报文之后不能确定客户端接收能力是否正常</p>
<p>三次握手的作用<br>1.确认双方的接收能力和发送能力是否正常<br>2.指定自己的初始化序列号，为后面的可靠传送做准备<br>3.如果是https协议的话，三次握手这个过程还会进行数字证书的验证和加密密钥的生成</p>
<p>ISN是固定的吗？<br>三次握手的一个重要功能是客户端和服务端交换ISN，以便对方知道接下来接收数据的时候如何按照序列号组装数据<br>如果ISN是固定的，攻击者很容易猜到后续的确认号，因此ISN是动态生成的</p>
<p>什么是半连接队列？<br>服务端第一次收到客户端的SYN之后会处于SYN_RCVD状态，此时双方还没完全建立其连接，服务端会把这种状态下请求连接放在一个队列里，就是半连接队列。当然还有全连接队列，就是已经完成三次握手建立起连接的会放在全连接队列中。如果队列满了就有可能会出现丢包现象</p>
<p>SYN-ACK重传次数？<br>服务端发送完SYN-ACK包，如果未收到客户确认包，服务器进行首次重传，等待一段时间仍未收到客户确认包，第二次重传，如果重传次数超过系统规定的最大重传次数，系统将该连接信息从半连接列表中删除</p>
<p>三次握手可以携带数据吗？<br>第三次可以<br>如果第一次握手可以带数据，如果有人攻击服务器，每次在第一次握手中的SYN报文中放入大量的数据，这会让服务器花费很多时间、内存空间来接收这些报文。也就是说，第一次握手可以放数据的话会让服务器更加容易受到攻击<br>第三次握手的话，客户端已经处于established状态，也就是说对于客户端来说它已经建立起了连接并且知道服务端接收、发送能力正常，所以携带数据没问题</p>
<ol start="3">
<li>浏览器渲染原理及流程<br>DOM、CSSOM -&gt; render -&gt; layout -&gt; print<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. 构建DOM树：渲染引擎解析HTML文档，首先将标签转换成DOM树中的DOM node 生成内容树</span><br><span class="line">2. 构建CSSOM树：处理css标记</span><br><span class="line">3. 构建渲染树： 把DOM和CSSOM合并成一个渲染树</span><br><span class="line">4. 通过渲染树来布局：从根节点递归调用，计算每一个元素的大小、位置等。给出每个节点所在的屏幕的精准位置</span><br><span class="line">5. 绘制渲染树： 遍历渲染树，使用UI后端层来绘制每一个节点</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>重绘跟重排<br>①重排（reflow）：渲染层内的元素布局发生修改，都会导致页面重新排列，比如窗口的尺寸发生变化、删除或添加DOM元素，修改了影响元素盒子大小的CSS属性（诸如：width、height、padding）。<br>②重绘（repaint）：绘制，即渲染上色，所有对元素的视觉表现属性的修改，都会引发重绘。</p>
<p>不论是重排还是重绘，都会阻塞浏览器</p>
<ul>
<li><input disabled type="checkbox"> 前端储存</li>
</ul>
<ol>
<li>存储方式和传输方式</li>
</ol>
<ul>
<li>indexDB： 是h5 的本地存储库，把一些数据存储到浏览器中，没网络，浏览器可以从这里读取数据，离线运用。5m</li>
<li>cookie： 通过浏览器记录信息确认用户身份，最大4kb，这就限制了传输的数据</li>
<li>session： 服务器端使用的一种记录用户状态的机制</li>
<li>localStorage： h5 的本地存储，数据永久保存在客户端<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. cookie、sessionStoage、localStorage存放在客户端，session对象数据存放在服务器上</span><br><span class="line">2. cookie数据始终在同源的http请求中携带，在浏览器和服务器来回传递，里面放着sessionid；</span><br><span class="line">3. 大小限制： cookie不超过4kb，localStorage标准5m</span><br><span class="line">4. 数据有效期不同，cookie在设置的有效期内有效，不管窗口和浏览器的关闭</span><br><span class="line">sessionStorage仅在当前浏览器窗口关闭前有效，关闭即销毁</span><br><span class="line">localStorage始终有效</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="2">
<li><p>sessionStorage和localStorage区别<br>sessionStorage会话级别的储存，会话结束后数据也销毁<br>localStorage持久化本地储存，除非主动删除否则不会过期</p>
</li>
<li><p>token、cookie、session</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. token就是令牌，比如你授权登录一个程序时他就是个依据，判断你是否已经授权该软件（最好的身份认证，安全性好，且是唯一的）用户身份的验证方式</span><br><span class="line">2. cookie是写给客户端一个txt文件，里面包括登录信息之类的，下次在登录某个网站，就会自动调用cookie自动登录用户名。服务器生成，发送到浏览器，浏览器保存，下次请求再次发送给服务器（存放着登录信息）</span><br><span class="line">3. session是一类用来客户端和服务器之间保存状态的解决方案，会话完成被销毁。cookie中存放着sessionid，请求会发送这个id，session因为request对象而产生</span><br></pre></td></tr></table></figure>
</li>
<li><p>基于token的身份验证<br>最简单的token：uid用户唯一身份识别+time当前时间戳+sign签名</p>
</li>
</ol>
<ul>
<li><input disabled type="checkbox"> TLS原理</li>
</ul>
<ol>
<li>服务器将自己的公钥key1发给证书颁发机构，向证书颁发机构申请证书</li>
<li>证书颁发机构有自己的一对公钥私钥。机构利用自己的私钥加密key1，并通过服务端网址等信息生成一个证书签名，证书签名同样经过机构的私钥加密。证书制作完成后，机构把证书发送给服务端</li>
<li>客户端请求通信时，服务端返回证书</li>
<li>客户端从本地找到对应机构公钥，解密出证书签名，得到服务器信息的摘要，再和原来的信息对比校验。验证成功后客户端利用机构公钥解密出服务端的公钥key1</li>
<li>客户端生成自己的对称加密密钥key2，并利用服务端公钥key1加密key2，发给服务端</li>
<li>服务端用私钥解开加密，得到对称加密密钥key2.于是双方利用key2进行对称加密的通信</li>
</ol>
<ul>
<li><input disabled type="checkbox"> TLS握手过程</li>
</ul>
<ol>
<li>客户端向服务器发起请求，请求中包含使用的协议版本号、生成的一个<strong>随机数</strong>、以及客户端支持的加密方法</li>
<li>服务端接收到请求后确认双方使用的加密方法，并给出服务器的证书以及一个服务器随机生成的<strong>随机数</strong></li>
<li>客户端确认服务器的证书有效后，生成一个新的<strong>随机数</strong>，并使用数字证书里的公钥加密这个随机数，然后发给服务端。还会提供一个前面所有内容的hash值以供检验</li>
<li>服务器用自己的私钥来解密客户端发过来的随机数。并提供前面所有内容的hash值以供客户端检验</li>
<li>客户端和服务端按照约定的加密方法来使用前面三个随机数，生成对话密钥。</li>
</ol>
<p>为什么要用三个随机数<br>SSL协议默认不信任每个主机都能产生完全随机的数，如果只使用一个伪随机数来生成密钥就容易被破解，</p>
<ul>
<li><input disabled type="checkbox"> TCP四次挥手</li>
</ul>
<ol>
<li>客户端没数据发了，向服务器发送一个FIN报文，申请断开连接。发完后客户端进入FIN_WAIT_1的状态  (FIN=1，seq=x)</li>
<li>服务器收到后向客户端发送一个确认报文，表示收到请求，以后不接收客户端发送的数据，此时服务器端还可以向客户端发送数据。服务器端进入CLOSE_WAIT状态，客户端收到确认后进入FIN_WAIT_2状态   (ACK=1，ACKnum=x+1)</li>
<li>服务器端发送完所有数据后，向客户端发送FIN报文段，申请断开连接。发完后进入LAST_ACK状态  (FIN=1，seq=y)</li>
<li>客户端收到FIN报文后，向服务器端发送一个确认应答，并进入TIME_WAIT阶段。该阶段会持续一段时间，如果这段时间里服务器端没有重发请求的话客户端进入CLOSED状态。就这样全双工连接被释放了  (ACK=1，ACKnum=y+1)</li>
</ol>
<p>为什么是四次<br>因为TCP连接是全双工的，所以需要双方分别释放到对方的连接，单独一方的连接释放，连接处于半释放状态</p>
<p>最后一次挥手中，客户端等待一段时间<br>是为了防止发送给服务器的确认报文丢失或出错，从而导致服务器不能正常关闭</p>
<ul>
<li><input disabled type="checkbox"> <p>ajax状态<br>ajax本质是用了XMLHttpRequest对象，在运行过程中有五种状态（readyState）<br>0 - 未初始化，还没调用send函数<br>1 - 正在发送请求<br>2 - send()执行完，发送请求完毕，已收到响应内容<br>3 - 正在解析响应内容<br>4 - 响应内容解析完毕，可以在客户端调用</p>
</li>
<li><input disabled type="checkbox"> <p>TCP和UDP区别<br>UDP：</p>
</li>
</ul>
<ol>
<li>无连接</li>
<li>不可靠</li>
<li>没有拥塞控制和流量控制的机制</li>
<li>支持一对一、一对多、多对一、多对多</li>
<li>首部小，只有8字节</li>
</ol>
<p>TCP：</p>
<ol>
<li>面向连接（三次握手）</li>
<li>提供可靠数据传输服务的传输层协议</li>
<li>点对点</li>
<li>全双工服务</li>
</ol>
<ul>
<li><input disabled type="checkbox"> http请求方法options方法有什么用？<br>一般用于客户端查看服务器性能。该方法会返回该资源所支持的所有HTTP请求方法，可以测试服务器功能是否正常。对于复杂请求，可以使用option方法请求以判断是否有对指定资源的访问权限</li>
</ul>
<ul>
<li><input disabled type="checkbox"> HTTP首部</li>
</ul>
<ul>
<li><p>通用首部字段</p>
<ul>
<li>Cache-Control 控制缓存</li>
<li>Connection 连接管理</li>
<li>Transfor-Encoding 报文主体的传输编码格式</li>
<li>Date 创建报文的日期</li>
</ul>
</li>
<li><p>请求首部字段</p>
<ul>
<li>Accept 客户端或者代理可以处理的媒体类型</li>
<li>If-None-Match 比较实体标记（ETag）</li>
<li>If-Modified-Since 比较资源更新时间（Last-Modified）</li>
<li>Range 实体的字节范围请求</li>
<li>Authorization web的认证信息</li>
<li>Host 请求资源所在服务器</li>
<li>User-Agent 客户端程序信息</li>
</ul>
</li>
<li><p>响应首部字段</p>
<ul>
<li>Location 令客户端重定向的URI</li>
<li>ETag 能够表示资源唯一资源的字符串</li>
<li>Server 服务器的信息</li>
</ul>
</li>
<li><p>实体首部字段</p>
<ul>
<li>Allow 资源可支持http请求的方法</li>
<li>Content-Type 实体媒体类型</li>
<li>Last-Modified 资源最后的修改时间</li>
<li>Expires 实体主体的过期时间</li>
</ul>
</li>
</ul>
<ul>
<li><input disabled type="checkbox"> 常见的web安全及防护原理</li>
</ul>
<ol>
<li>sql注入 原理：通过sql命令插入到web表单递交，骗服务器执行。防范：对用户输入进行校验，不用动态拼接sql</li>
<li>XSS（跨站脚本攻击）：往web页面插入恶意的html标签或js代码。<br>防范：</li>
</ol>
<ul>
<li>csp 建立白名单</li>
<li>转义字符</li>
<li>http-only 预防窃取用户cookie</li>
</ul>
<ol start="3">
<li>CSRF（跨站请求伪装）：利用用户的登录态做不好的事情。<br>防范：</li>
</ol>
<ul>
<li>samesite属性 表示cookie不随跨域请求发送</li>
<li>http referer 说明是从哪个页面链接过来的</li>
<li>csrf token </li>
<li>用验证码</li>
</ul>
<p>XSS和CSRF区别：XSS获取信息，不需要提前知道其他用户页面的代码和数据包；CSRF代替用户完成指定动作，需要知道</p>
<h2 id="从URL到页面"><a href="#从URL到页面" class="headerlink" title="从URL到页面"></a>从URL到页面</h2><blockquote>
<ol>
<li>DNS查询  </li>
<li>TCP连接  </li>
<li>发送HTTP请求  </li>
<li>服务器处理请求并返回HTTP报文  </li>
<li>浏览器解析渲染页面  </li>
<li>连接结束  </li>
</ol>
</blockquote>
<h3 id="DNS解析"><a href="#DNS解析" class="headerlink" title="DNS解析"></a>DNS解析</h3><p>递归过程<br><img src="bVDM45.png" alt></p>
<ol>
<li>向本地域名服务器查询IP地址</li>
<li>没找到，本地域名服务器向根域名服务器.查询</li>
<li>没找到，向顶级域名服务器com查询</li>
<li>没找到，向一级域名服务器查询</li>
<li>。。。</li>
</ol>
<p>. -&gt; .com -&gt; google.com -&gt; <a href="http://www.google.com" target="_blank" rel="noopener">www.google.com</a></p>
<h4 id="DNS优化"><a href="#DNS优化" class="headerlink" title="DNS优化"></a>DNS优化</h4><ul>
<li>DNS缓存</li>
<li>DNS负载均衡<br>根据机器离用户地理位置的距离、每台机器的负载量，返回一个合适的机器的IP给用户<br>CDN就是利用DNS重定向技术</li>
</ul>
<h3 id="TCP连接"><a href="#TCP连接" class="headerlink" title="TCP连接"></a>TCP连接</h3><p>三次握手</p>
<h3 id="HTTP请求"><a href="#HTTP请求" class="headerlink" title="HTTP请求"></a>HTTP请求</h3><p>构建HTTP请求报文并通过TCP协议发送到服务器指定端口<br>请求报文三部分组成：请求行、请求报头、请求正文</p>
<h4 id="请求行"><a href="#请求行" class="headerlink" title="请求行"></a>请求行</h4><blockquote>
<p>Method Request-URL HTTP-Version CRLF<br>eg: GET index.html HTTP/1.1  </p>
</blockquote>
<p>常用方法：<br>GET、POST、PUT、DELETE、OPTIONS、HEAD</p>
<p>GET和POST的区别：</p>
<ol>
<li>get将参数都放在url上，post不会，所以get参数会有长度限制</li>
<li>get可以被缓存，可以保存在书签栏上</li>
<li>get一般用于请求数据，不会对服务器造成影响</li>
</ol>
<h4 id="请求报头"><a href="#请求报头" class="headerlink" title="请求报头"></a>请求报头</h4><p>常见：Accept、Accept-Charset、Accept-Encoding、Accept-Language、Content-Type、Authorization、Cookie、User-Agent</p>
<h4 id="请求正文"><a href="#请求正文" class="headerlink" title="请求正文"></a>请求正文</h4><p>当使用POST、PUT等方法时通常向服务器传递数据，这些数据就存在请求正文中</p>
<h3 id="服务器处理请求并返回HTTP报文"><a href="#服务器处理请求并返回HTTP报文" class="headerlink" title="服务器处理请求并返回HTTP报文"></a>服务器处理请求并返回HTTP报文</h3><p>HTTP响应报文： 响应行、响应报头、响应报文</p>
<h4 id="响应行"><a href="#响应行" class="headerlink" title="响应行"></a>响应行</h4><p>协议版本、状态码和状态码的原因短语<br>eg: HTTP/1.1 200 OK</p>
<h4 id="响应头"><a href="#响应头" class="headerlink" title="响应头"></a>响应头</h4><h4 id="响应体"><a href="#响应体" class="headerlink" title="响应体"></a>响应体</h4><p>#前端面试</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/07/24/手撕系列/" rel="next" title="手撕系列">
                <i class="fa fa-chevron-left"></i> 手撕系列
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/07/24/模块化/" rel="prev" title="模块化">
                模块化 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">LZT</p>
              <p class="site-description motion-element" itemprop="description">ㅋㅋㅋㅋㅋ</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#服务器端"><span class="nav-number">1.</span> <span class="nav-text">服务器端</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#从URL到页面"><span class="nav-number">1.1.</span> <span class="nav-text">从URL到页面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS解析"><span class="nav-number">1.1.1.</span> <span class="nav-text">DNS解析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DNS优化"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">DNS优化</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP连接"><span class="nav-number">1.1.2.</span> <span class="nav-text">TCP连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP请求"><span class="nav-number">1.1.3.</span> <span class="nav-text">HTTP请求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#请求行"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">请求行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#请求报头"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">请求报头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#请求正文"><span class="nav-number">1.1.3.3.</span> <span class="nav-text">请求正文</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务器处理请求并返回HTTP报文"><span class="nav-number">1.1.4.</span> <span class="nav-text">服务器处理请求并返回HTTP报文</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#响应行"><span class="nav-number">1.1.4.1.</span> <span class="nav-text">响应行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#响应头"><span class="nav-number">1.1.4.2.</span> <span class="nav-text">响应头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#响应体"><span class="nav-number">1.1.4.3.</span> <span class="nav-text">响应体</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LZT</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  

  

  
  

  

  

  

</body>
</html>
